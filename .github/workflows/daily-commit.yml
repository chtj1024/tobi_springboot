# daily-commit.yml íŒŒì¼ ë‚´ìš©

name: Auto Daily Commit ğŸ¤–

# ìŠ¤ì¼€ì¤„ ì„¤ì •: ë§¤ì¼ UTC 00:00ì— ì‹¤í–‰ (í•œêµ­ ì‹œê°„ ê¸°ì¤€ ì˜¤ì „ 9ì‹œ)
# crontab ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì›í•˜ëŠ” ì‹œê°„ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

permissions:
  contents: write

on:
  schedule:
    - cron: '0 0 * * *'
  # ìˆ˜ë™ìœ¼ë¡œ ì›Œí¬í”Œë¡œë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš© (ì„ íƒ ì‚¬í•­)
  workflow_dispatch:

jobs:
  commit:
    runs-on: ubuntu-latest
    steps:
      # 1. ì €ì¥ì†Œ ì²´í¬ì•„ì›ƒ
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. ì»¤ë°‹ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
      - name: Create empty commit
        run: |
          # Git ì‚¬ìš©ì ì •ë³´ ì„¤ì • (ì‚¬ìš©ì ì •ë³´ë¥¼ ì‚¬ìš©í•´ì•¼ ì”ë””ê°€ ì‹¬ì–´ì§„ë‹¤)
          git config --global user.email "chlqnftkwh@naver.com"
          git config --global user.name "chtj1024"
          
          # í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì»¤ë°‹ ë©”ì‹œì§€ì— ì¶”ê°€í•˜ì—¬ ë§¤ë²ˆ ê³ ìœ í•œ ì»¤ë°‹ ìƒì„±
          COMMIT_MESSAGE="Daily auto commit on $(date +'%Y-%m-%d %H:%M:%S')"

          # ë¹ˆ ì»¤ë°‹ ìƒì„± (--allow-empty ì˜µì…˜)
          git commit --allow-empty -m "$COMMIT_MESSAGE"
          
          # GitHubì— í‘¸ì‹œ
          git push